$Decompress_Base64 = @'
RnVuY3Rpb24gR2V0LURlY29tcHJlc3NlZEJ5dGVBcnJheSB7DQogICAgUGFy
YW0gKCRCYXNlNjRTdHJpbmcpDQogICAgJGJ5dGVBcnJheSA9IFtDb252ZXJ0
XTo6RnJvbUJhc2U2NFN0cmluZygkQmFzZTY0U3RyaW5nKQ0KICAgICRpbnB1
dFN0cmVhbSA9IE5ldy1PYmplY3QgU3lzdGVtLklPLk1lbW9yeVN0cmVhbSgg
LCAkYnl0ZUFycmF5ICkNCgkkb3V0cHV0U3RyZWFtID0gTmV3LU9iamVjdCBT
eXN0ZW0uSU8uTWVtb3J5U3RyZWFtDQogICAgJGd6aXBTdHJlYW0gPSBOZXct
T2JqZWN0IFN5c3RlbS5JTy5Db21wcmVzc2lvbi5HemlwU3RyZWFtICRpbnB1
dFN0cmVhbSwgKFtJTy5Db21wcmVzc2lvbi5Db21wcmVzc2lvbk1vZGVdOjpE
ZWNvbXByZXNzKQ0KCSRnemlwU3RyZWFtLkNvcHlUbyggJG91dHB1dFN0cmVh
bSApDQogICAgJGd6aXBTdHJlYW0uQ2xvc2UoKQ0KCSRpbnB1dFN0cmVhbS5D
bG9zZSgpDQogICAgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRT
dHJpbmcoJG91dHB1dFN0cmVhbS5Ub0FycmF5KCkpDQp9
'@

$DecompressFunc = [system.text.encoding]::utf8.GetString(
    [Convert]::FromBase64String($Decompress_Base64)
)
Invoke-Command -ScriptBlock ([scriptblock]::Create($DecompressFunc)) -NoNewScope

$CoreFunctions_Base64 = @'
H4sIAAAAAAAEAMVXbU/jRhD+jsR/WLlWY6uxgRSdTqmQCPQCqcqLICmVELpu7CHZq7Pr7q6hudT//cb2
OokTE3ISqP4Se3dn9plnZp7ddBMeaCY4OQPtnYpJLEEpCE+mGjpS0imZ7e4QfK6ppBPi2LdaMj5yi0F7
OF92RO5vp0rDxO/Dv9r/xAMR4sKHdnvQ73700XvmUq06EImOE41jgN6PyCU8e1fDLxBoYrz1rvwLmAg5
LdYYs9FXFm82KkPB0PyzxerKhk3i3K8sXXq/ECEg/HLEXdvav5NMg7PEQpPsN5c+/d+Bj/SY1JieRkKB
U8dCder+VPAnkBqB9MUJVfDhsCDQqRr1Rb6j46JdurvTXc7qGdPnyRAdaeBa7e7MSteTMMK0MJ4lyvkV
HmkS6TzPoEHegr7EN+S3cZ0MIxY03IdKKRQfuae5kXNBeUg1pqtJNnjCSaFYDvCI7Jd+v9OVZE9UwyZf
Kmfqwe4EgUi4bu7uvBXmgzfEfFCL+QZi8YaAW28IuFULuMsiuKZ6/BLord3/XJ/DRI/74m/g3+W/honD
F5jYGt9hLb6rRGcMFDOmeXuPKDBmQbvdU5dJFF3JuzGqxm1MA3AWUbluKbTZkwuL9wfIIUoBsebQCGJr
kyIqi5QL2s6PM/XMdDB2bCpHyp1ZWbMznoA1s7VMIP0lLLp7Zj/SSEGapo5trK8lPIIEHoDrLhDYxSYY
bu6gmEiLH0APxdv2kAsi3w+zgdYJQ68/jYF4HTzFJsNomqfSHAt3MDSCewNKX4Aei/DzHKnCYI9n6aYV
Pvp3GsVwo9lAcW24r68fKEDlZgGOKyyFRjOPb6lGDNnuGqkbvC4WZU9jcNNrNKtj94uo/XOt44FmEdPT
7ESWUdap+RkNjjXGSdXe25P02R8xPU6GiQIZFOeFH4jJnj0zEpria6ZM6d6EMo4fZden1lLxLL1m4Xlc
aLK5D0z3LFfgrBrN1lTkdBh/q5TkjiqdWgM5rVTUJyw98kNZwP9zhmjMTIbytEjMhKpLjsmd2iJB2wdw
DjTEqdUgjmfrHCMgiDX2k0XjGCubZtK598RDg/6nL0pwq8YO5VBI9pUaqbVOgErUEAyxFMq0xsz609xx
vE7MMoXJrm9WZt/ab7W8gwOv9XHFLF0jw4ys6FgtO+2/uO28oCH/EXNj6wvvN4wSB7DgPHPrfT8BtM39
DqPu8SdkylvgI8e1WLcQoNdPsNc7V4JOJJ8D3NRo77n/a39PzLV66cLdlWJSuXI7ZQy+aTDXXdeNaiw1
eEx6sOlv4J8EE0O8gWRzfvxQPPNI0PBzIiPimfhqZGtBX/oNlwCGtsUNAAA=
'@

$CoreFunctions = Get-DecompressedByteArray $CoreFunctions_Base64

Invoke-Command -ScriptBlock ([scriptblock]::Create($CoreFunctions)) -NoNewScope

$Functions_Content = Get-GitHubContents 'LODSContent' 'Orchestration' 'Functions.ps1'
$TimeSync_Content = Get-GitHubContents 'LODSContent' 'Orchestration' 'TimeSync/Set-TimeSync.ps1'
$Localization_Content = Get-GitHubContents 'LODSContent' 'Orchestration' 'Localization/Set-Localization.ps1'

$Script1_String += $Functions_Content | Out-String
$Script1_String += $TimeSync_Content | Out-String
$Script1_String += $Localization_Content | Out-String

$Script1_CompBase64 = Get-CompressedByteArray $Script1_String

Set-LabVariable -Name 'DecompressFunc' -Value $Decompress_Base64
Set-LabVariable -Name 'Script1' -Value $Script1_CompBase64
